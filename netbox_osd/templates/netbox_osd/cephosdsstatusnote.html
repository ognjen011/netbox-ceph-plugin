{% extends 'generic/object.html' %}
{% load helpers %}

{% block content %}
<div class="row mb-3">
  <div class="col col-md-6">
    <div class="card">
      <h5 class="card-header">Status Note</h5>
      <div class="card-body">
        <table class="table table-hover attr-table">
          <tr>
            <th scope="row">OSD</th>
            <td>
              <a href="{{ object.osd.get_absolute_url }}">{{ object.osd }}</a>
            </td>
          </tr>
          <tr>
            <th scope="row">Status</th>
            <td>
              {% badge object.get_status_display bg_color=object.get_status_color %}
            </td>
          </tr>
          <tr>
            <th scope="row">Reason</th>
            <td>{{ object.reason }}</td>
          </tr>
          <tr>
            <th scope="row">Resolved</th>
            <td>
              {% if object.resolved %}
                <span class="text-success"><i class="mdi mdi-check-circle"></i> Yes</span>
                {% if object.resolved_at %}
                  <small class="text-muted ms-2">{{ object.resolved_at }}</small>
                {% endif %}
              {% else %}
                <span class="text-danger"><i class="mdi mdi-alert-circle"></i> No</span>
              {% endif %}
            </td>
          </tr>
          <tr>
            <th scope="row">Created</th>
            <td>{{ object.created }}</td>
          </tr>
          <tr>
            <th scope="row">Last Updated</th>
            <td>{{ object.last_updated }}</td>
          </tr>
        </table>
      </div>
    </div>
    {% include 'inc/panels/tags.html' %}
    {% include 'inc/panels/custom_fields.html' %}
  </div>

  <div class="col col-md-6">
    <div class="card">
      <h5 class="card-header">OSD Information</h5>
      <div class="card-body">
        <table class="table table-hover attr-table">
          <tr>
            <th scope="row">Device</th>
            <td>
              <a href="{{ object.osd.device.get_absolute_url }}">{{ object.osd.device }}</a>
            </td>
          </tr>
          <tr>
            <th scope="row">Rack</th>
            <td>
              {% if object.osd.rack %}
                <a href="{{ object.osd.rack.get_absolute_url }}">{{ object.osd.rack }}</a>
              {% else %}
                <span class="text-muted">â€”</span>
              {% endif %}
            </td>
          </tr>
          <tr>
            <th scope="row">OSD Status</th>
            <td>
              {% badge object.osd.get_status_display bg_color=object.osd.get_status_color %}
            </td>
          </tr>
          <tr>
            <th scope="row">OSD Type</th>
            <td>
              {% badge object.osd.get_osd_type_display bg_color=object.osd.get_osd_type_color %}
            </td>
          </tr>
        </table>
      </div>
    </div>
  </div>
</div>

{% endblock %}
